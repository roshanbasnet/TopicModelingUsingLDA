<html>
<head>
<title>LDA Topic Modelling </title>
	 <link href="../static/c3-0.4.10/c3.css" rel="stylesheet" type="text/css">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" type="text/css">

    <!-- Load d3.js and c3.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
    <script src="/static/c3-0.4.10/c3.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.3.min.js" type="text/javascript"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" type="text/javascript"></script>

<meta charset="utf-8">
	<link href="/static/c3-0.4.10/c3.css" rel="stylesheet" type="text/css">
	<link type="text/css" href="../static/css/jquery-ui-1.8.21.custom.css" rel="stylesheet" />
	<link type="text/css" href="../static/css/lda.css" rel="stylesheet" />
	<link type="text/css" href="../static/css/bootstrap.min.css"/>

<script>
    function readTextFile(file)
{
    var rawFile = new XMLHttpRequest();
    rawFile.open("GET", file, false);
    rawFile.onreadystatechange = function ()
    {
        if(rawFile.readyState === 4)
        {
            if(rawFile.status === 200 || rawFile.status == 0)
            {
                var allText = rawFile.responseText;
                alert(allText)
                document.getElementById('sample').innerText = allText;
            }
        }
    }
    rawFile.send(null);
}
</script>
</head>
<body>
<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="{{ url_for('wiki') }}">Topic Modeling Using LDA</a>
    </div>
    <ul class="nav navbar-nav">
      <li class="active"><a href="{{ url_for('index') }}">Home</a></li>
      <li><a href="{{ url_for('wcloud') }}">Find WordCloud</a></li>
    </ul>
  </div>
</nav>

<div id="content">
    <div class="container">
        <div class="jumbotron"  style="text-center:center">
<h2 class="center-block">Topic Modeling Using Latent Dirichlet Allocation</h2>
            <div>{{ read_file }}</div>
        </div>

<form class="form-inline" method="POST" action="{{ url_for('upload') }}">
  <div class="form-group">
    <div class="input-group">
        <span class="input-group-addon">Please select</span>
            <select name="comp_select" class="selectpicker form-control">
              {% for o in data %}
              <option value="{{ o.name }}">{{ o.name }}</option>
              {% endfor %}
            </select>
    </div>
      <div class="input-group">
        <label for="topics">Topics:</label>
        <select name="topics" id="topics">
	    <option>2</option>
	    <option>3</option>
	    <option  selected="selected">4</option>
	    <option>5</option>
	    <option>6</option>
	    <option>7</option>
	    <option>8</option>
	    <option>9</option>
	    <option>10</option>
	    <option>11</option>
	    <option>12</option>
	    <option>13</option>
	    <option>14</option>
	    <option>15</option>
	    <option>16</option>
	    <option>17</option>
	    <option>18</option>
	    <option>19</option>
	    <option>20</option>
    </select>
    </div>
  </div>
    <button type="submit" class="btn btn-success "  onclick="loading();" >Analyze</button>

</form>
     <button type="submit" class="btn btn-success " id ="sample_but" >Sample</button>
{#    <a type="submit" id = "sample_but" class="btn btn-default "  onclick = "readTextFile('/home/sparkle/PycharmProjects/LDATopicModelingFinal/new_data/comp.graphics/38758');" >sample</a>#}
    <div id="sample" class="jumbotron" style="font-size:medium ">



    </div>

</div>
<div class="footer">
    <p style="background: black;color:white;position:fixed;bottom:0;width: 100vw;text-align: center;height:50px;margin:0 0 0 0 !important;padding-top:12px">Roshan Basnet, All rights Reserved </p>
</div>
</div>
</body>
</html>


 <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script>
    $(document).ready(function(){
      $("#sample_but").click(function(e){
{#          alert("Button is pressed !");#}
          e.preventDefault();
        $.ajax({type: "POST",
                url: "/sample",
                data: { id: 1},
               contentType: 'application/json',
                success:function(result){
{#                alert("The ajax request is successful");#}
                $("#sample").html(result.result);
{#                    alert("The result is "+ result.result);#}
{#                    alert("The result is "+ result[0]);#}
{#                    var parsed_data = JSON.parse(result);#}
{#                    alert("The parsed data is "+ parsed_data.toString());#}
         // $("#sample").html(result);
        },
            error: function () {
                alert("The ajax requst could not be sent")
            }
        });
      });
    });
    </script>